!function(e,n){"use strict";if(n.getElementById("announcement")){e.GenkiAnn={rotation:!1,msg:[{date:"12/14/24",content:'I\'ve been slowly rolling out ads on my website recently. They\'re optional for this project, however, so please <a href="https://ko-fi.com/post/Statement-Regarding-Ads-V7V717GGS6" target="_blank">click here</a> to learn more about this update.'},{content:'As of September 10th, 2024, Colloquial Kansai Dictionary is now complete! If you have any suggestions or discover any issues, please feel free to let us know on <a href="https://github.com/SethClydesdale/colloquial-kansai-dictionary/issues">GitHub</a>. 関西弁の勉強、頑張んな！'},{content:'Interested in learning Japanese or know someone who is? Check out <a href="https://sethclydesdale.github.io/genki-study-resources/help/japanese-guide/">our guide</a> for more information on how to learn the language, as well as useful tools that you can utilize in your studies!'},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Colloquial Kansai Dictionary can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this project helpful and would like to donate, please see the <a href="'+getPaths()+'donate/">donate page</a> for ways to contribute. Thank you!'}],index:0,list:n.getElementById("announce-list"),next:function(n,t){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof n?(GenkiAnn.index+=n,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&t&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,3e4)},init:function(){if(GenkiAnn.msg.length>1){n.getElementById("announcement-controls").style.display="";for(var e=0,t=GenkiAnn.msg.length,o="",i=!0;e<t;e++)GenkiAnn.msg[e].edition&&GenkiAnn.msg[e].edition.toLowerCase()!=GenkiAnn.edition||(o+='<div class="announcement'+(i?"":" announce-hidden")+'">'+(GenkiAnn.msg[e].date?'<span class="date">'+GenkiAnn.msg[e].date+"</span>":"")+GenkiAnn.msg[e].content+"</div>",i&&(i=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",o),GenkiAnn.msg=n.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}}};var t=new Date,o=t.getMonth()+1,i=t.getDate();if(12==o&&25==i){GenkiAnn.msg.splice(0,0,{content:"<ruby>今日<rt>きょう</rt></ruby>はクリスマスだよ。メリークリスマス！"});var r=n.getElementById("announcement");r.style.position="relative",r.style.paddingBottom="25px",r.style.marginBottom="75px",r.insertAdjacentHTML("beforeend",'<div id="holiday-deco" style="height:100px;width:100%;position:absolute;left:0;bottom:-70px;background-image:url(\''+getPaths()+"resources/images/holiday/xmas.png');background-size:auto 100%;pointer-events:none;\"></div>")}else 10==o&&31==i&&(GenkiAnn.msg.splice(0,0,{content:"ハッピーハロウィン！お<ruby>菓子<rt>かし</rt></ruby>をくれないとイタズラしちゃうぞ！"}),e._scrollSpider={config:{side:"right",offset:"0px",tooltip:"Squash..?",image:getPaths()+"/resources/images/holiday/halloween.png",web:"background-color:#000;width:2px;height:999em;position:absolute;right:42%;bottom:95%;"},move:function(){_scrollSpider.spider.style.top=(n.body.scrollTop+n.documentElement.scrollTop)/(n.documentElement.scrollHeight-n.documentElement.clientHeight)*100+"%"},goingUp:!1,toTop:function(){if(!_scrollSpider.goingUp&&(n.body.scrollTop||n.documentElement.scrollTop)){var t=n.body.scrollTop?n.body:n.documentElement;_scrollSpider.goingUp=!0,_scrollSpider.scroll={top:t.scrollTop,body:t,by:(n.documentElement.scrollHeight-n.documentElement.clientHeight)/100,window:e.setInterval(function(){_scrollSpider.scroll.top>0?(_scrollSpider.scroll.body.scrollTop=_scrollSpider.scroll.top-=_scrollSpider.scroll.by,_scrollSpider.move()):(e.clearInterval(_scrollSpider.scroll.window),_scrollSpider.goingUp=!1)},10)}}},applyOffset:function(){var n=_scrollSpider.spider.getElementsByTagName("IMG")[0];n&&n.complete?(_scrollSpider.spider.style.marginTop="-"+n.height+"px",_scrollSpider.spider.style.display=""):e.addEventListener("load",_scrollSpider.applyOffset)},init:function(){var t=n.createElement("DIV");t.id="scrollSpider",t.innerHTML='<div style="'+_scrollSpider.config.web+'"></div><img src="'+_scrollSpider.config.image+'" onclick="_scrollSpider.toTop();" style="cursor:pointer;" title="'+_scrollSpider.config.tooltip+'">',t.style.position="fixed",t.style[/left|right/i.test(_scrollSpider.config.side)?_scrollSpider.config.side:"right"]=_scrollSpider.config.offset,t.style.top="0%",t.style.display="none",n.body.appendChild(t),_scrollSpider.spider=t,_scrollSpider.move(),_scrollSpider.applyOffset(),e.addEventListener("scroll",_scrollSpider.move)}},n.addEventListener("DOMContentLoaded",_scrollSpider.init));GenkiAnn.init()}if(n.getElementById("quick-search")){if(e.QuickSearcher={grammarIndex:!0,search:n.getElementById("quick-search"),results:n.getElementById("quick-search-results"),hitsCounter:n.getElementById("quick-search-hits"),li:null,exLen:null,query:function(t){e.GenkiSearchTimeout&&e.clearTimeout(GenkiSearchTimeout),e.GenkiSearchTimeout=e.setTimeout(function(){var o,i=n.createDocumentFragment(),r=0,l=0;if(QuickSearcher.results.innerHTML="",t){if("#"==t)var a={};for(;l<QuickSearcher.exLen;l++)(-1!=QuickSearcher.li[l].innerHTML.replace(/||<.*?>/g,"").toLowerCase().indexOf(t.toLowerCase())||QuickSearcher.li[l].dataset&&QuickSearcher.li[l].dataset.keywords&&-1!=QuickSearcher.li[l].dataset.keywords.toLowerCase().indexOf(t.toLowerCase()))&&QuickSearcher.li[l].getElementsByTagName("A")[0]&&!/note/.test(QuickSearcher.li[l].id)&&(QuickSearcher.grammarIndex?(o=n.createElement("LI")).innerHTML='<a href="#'+QuickSearcher.li[l].id+'">'+QuickSearcher.li[l].innerHTML.replace(/||<a.*?>.*?<\/a>/g,"")+"</a>":o=QuickSearcher.li[l].cloneNode(!0),o.dataset.lesson=QuickSearcher.grammarIndex?"L"+QuickSearcher.li[l].id.replace(/l(\d+)-p\d+/,"$1"):o.getElementsByTagName("A")[0].href.replace(/.*?\/(lesson-\d+).*|.*?\/(study-tools).*|.*?\/(appendix).*/,function(e,n,t,o){return n?n.charAt(0).toUpperCase()+n.split("-").pop():t?"tool":o?"appendix":void 0}),o.title=o.innerHTML.replace(/<rt>(.*?)<\/rt>/,"($1)").replace(/||<.*?>/g,""),/^file|^http/.test(o.dataset.lesson)||(i.appendChild(o),r++,"#"==t&&(a[o.title.replace(/.*?#(\d+).*/,"$1")]=o)))}if(i.childNodes.length){if("#"==t)for(var s in a)i.appendChild(a[s]);QuickSearcher.results.appendChild(i)}else QuickSearcher.results.innerHTML=t?'<li>No results found for "'+t+'".</li>':"";QuickSearcher.hitsCounter.innerHTML=r?"("+r+') <a class="fa" style="color:#C33;" href="#copy-search-link" title="Copy the search link" onclick="GenkiModal.open({title : \'Copy Search Link\',content : \'<div class=&quot;center&quot;><p>You can copy the direct search link from the box below.</p><textarea id=&quot;copied-search-link&quot; onfocus=&quot;this.select();&quot; style=&quot;width:80%;height:100px;&quot;>'+e.location.protocol+"//"+e.location.host+e.location.pathname+"?search="+encodeURIComponent(t)+"#quick-search-exercises</textarea></div>',focus : '#copied-search-link'}); return false;\">&#xf0ea;</a>":"",delete e.GenkiSearchTimeout},300)}},QuickSearcher.li=n.querySelectorAll(QuickSearcher.grammarIndex?".workbook-title":".lesson-exercises li"),QuickSearcher.exLen=QuickSearcher.li.length,e.location.search)for(var l,a=e.location.search.slice(1).split("&"),s=0,c=a.length;s<c;s++)if(l=a[s].split("="),/^search$/i.test(l[0])){QuickSearcher.search.value=decodeURIComponent(l[1]);break}QuickSearcher.search.oninput=function(){QuickSearcher.query(this.value)},QuickSearcher.search.value&&QuickSearcher.query(QuickSearcher.search.value)}var d=n.querySelectorAll("#index-list a");for(s=0,c=d.length;s<c;s++)d[s].insertAdjacentHTML("beforebegin",'<a class="sub-section-button fa" href="#toggle-sub-section" onclick="ToggleSubSection(this, \''+d[s].innerHTML+'\'); return false;" title="Toggle sub-sections" data-open="false"></a>'),d[s].insertAdjacentHTML("afterend",'<ul style="display:none;"></ul>'),d[s].parentNode.className+=" noBullet";e.ToggleSubSection=function(e,t){var o=e.parentNode.lastChild;if(!o.innerHTML){for(var i=n.querySelectorAll("#section-"+("Introduction"==t?"INTRO":t)+" h3"),r=0,l=i.length,a="";r<l;r++)a+='<li><a href="#'+i[r].id+'">'+i[r].innerHTML.replace(/\s\(.*\)$/,"").replace(/<a.*?>.*?<\/a>/g,"")+"</a></li>";o.innerHTML=a}/none/.test(o.style.display)?(o.style.display="block",e.dataset.open=!0):(o.style.display="none",e.dataset.open=!1)},AddJumpArrowsTo(".lesson-title","index","Jump to Index"),e.CKJDict={toggle:function(e,t){var o=n.getElementById("section-"+t);/Show/.test(e.innerHTML)?(o.style.display="block",e.innerHTML=e.innerHTML.replace("Show","Hide")):(o.style.display="",e.innerHTML=e.innerHTML.replace("Hide","Show"))},toggleAll:function(e){var t=/Show/.test(e.innerHTML)?"show":"hide";CKJDict.buttons||(CKJDict.buttons=n.querySelectorAll(".section-toggler"));for(var o=0,i=CKJDict.buttons.length;o<i;o++)"show"==t&&/Show/.test(CKJDict.buttons[o].innerHTML)?CKJDict.buttons[o].click():"hide"==t&&/Hide/.test(CKJDict.buttons[o].innerHTML)&&CKJDict.buttons[o].click();e.innerHTML="show"==t?e.innerHTML.replace("Show","Hide"):e.innerHTML.replace("Hide","Show")},jump:function(){if(/[A-Z]\d+|[A-Z]$/.test(e.location.hash)){var t=e.location.hash.slice(1),o=n.getElementById("toggler-"+t.replace(/\d+/g,""));if(/Show/.test(o.innerHTML)){o.click();try{n.getElementById(t).scrollIntoView()}catch(n){e.location.hash="#",e.location.hash="#"+t}}}}},n.addEventListener("click",function(n){for(var t=n.target;"A"!=t.tagName&&t.parentNode&&"BODY"!=t.parentNode.tagName;)t=t.parentNode;t&&t.href&&/[A-Z]\d*?|[A-Z]$/.test(t.href)&&e.setTimeout(CKJDict.jump,50)}),e.setTimeout(CKJDict.jump,50)}(window,document);