!function(e,n){"use strict";if(n.getElementById("announcement")&&(e.GenkiAnn={rotation:!0,msg:[{content:'Colloquial Kansai Dictionary is still under construction, so all entries are not available yet. You can expect new entries to be added periodically. For update details, please check the latest commits on the <a href="https://github.com/SethClydesdale/colloquial-kansai-dictionary/commits/main" target="_blank">GitHub repo</a>.'},{content:'Interested in learning Japanese or know someone who is? Check out <a href="https://sethclydesdale.github.io/genki-study-resources/help/japanese-guide/">our guide</a> for more information on how to learn the language, as well as useful tools that you can utilize in your studies!'},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Colloquial Kansai Dictionary can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this project helpful and would like to donate, please see the <a href="'+getPaths()+'donate/">donate page</a> for ways to contribute. Thank you!'}],index:0,list:n.getElementById("announce-list"),next:function(n,t){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof n?(GenkiAnn.index+=n,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&t&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,3e4)},init:function(){if(GenkiAnn.msg.length>1){n.getElementById("announcement-controls").style.display="";for(var e=0,t=GenkiAnn.msg.length,i="",a=!0;e<t;e++)GenkiAnn.msg[e].edition&&GenkiAnn.msg[e].edition.toLowerCase()!=GenkiAnn.edition||(i+='<div class="announcement'+(a?"":" announce-hidden")+'">'+(GenkiAnn.msg[e].date?'<span class="date">'+GenkiAnn.msg[e].date+"</span>":"")+GenkiAnn.msg[e].content+"</div>",a&&(a=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",i),GenkiAnn.msg=n.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}}},GenkiAnn.init()),n.getElementById("quick-search")){if(e.QuickSearcher={grammarIndex:!0,search:n.getElementById("quick-search"),results:n.getElementById("quick-search-results"),hitsCounter:n.getElementById("quick-search-hits"),li:null,exLen:null,query:function(t){e.GenkiSearchTimeout&&e.clearTimeout(GenkiSearchTimeout),e.GenkiSearchTimeout=e.setTimeout(function(){var i,a=n.createDocumentFragment(),o=0,r=0;if(QuickSearcher.results.innerHTML="",t){if("#"==t)var l={};for(;r<QuickSearcher.exLen;r++)-1!=QuickSearcher.li[r].innerText.toLowerCase().indexOf(t.toLowerCase())&&QuickSearcher.li[r].getElementsByTagName("A")[0]&&!/note/.test(QuickSearcher.li[r].id)&&(QuickSearcher.grammarIndex?(i=n.createElement("LI")).innerHTML='<a href="#'+QuickSearcher.li[r].id+'">'+QuickSearcher.li[r].innerHTML.replace(/||<a.*?>.*?<\/a>/g,"")+"</a>":i=QuickSearcher.li[r].cloneNode(!0),i.dataset.lesson=QuickSearcher.grammarIndex?"L"+QuickSearcher.li[r].id.replace(/l(\d+)-p\d+/,"$1"):i.getElementsByTagName("A")[0].href.replace(/.*?\/(lesson-\d+).*|.*?\/(study-tools).*|.*?\/(appendix).*/,function(e,n,t,i){return n?n.charAt(0).toUpperCase()+n.split("-").pop():t?"tool":i?"appendix":void 0}),i.title=i.innerText,/^file|^http/.test(i.dataset.lesson)||(a.appendChild(i),o++,"#"==t&&(l[i.title.replace(/.*?#(\d+).*/,"$1")]=i)))}if(a.childNodes.length){if("#"==t)for(var s in l)a.appendChild(l[s]);QuickSearcher.results.appendChild(a)}else QuickSearcher.results.innerHTML=t?'<li>No results found for "'+t+'".</li>':"";QuickSearcher.hitsCounter.innerHTML=o?"("+o+') <a class="fa" style="color:#C33;" href="#copy-search-link" title="Copy the search link" onclick="GenkiModal.open({title : \'Copy Search Link\',content : \'<div class=&quot;center&quot;><p>You can copy the direct search link from the box below.</p><textarea id=&quot;copied-search-link&quot; onfocus=&quot;this.select();&quot; style=&quot;width:80%;height:100px;&quot;>'+e.location.protocol+"//"+e.location.host+e.location.pathname+"?search="+encodeURIComponent(t)+"#quick-search-exercises</textarea></div>',focus : '#copied-search-link'}); return false;\">&#xf0ea;</a>":"",delete e.GenkiSearchTimeout},300)}},QuickSearcher.li=n.querySelectorAll(QuickSearcher.grammarIndex?".workbook-title":".lesson-exercises li"),QuickSearcher.exLen=QuickSearcher.li.length,e.location.search)for(var t,i=e.location.search.slice(1).split("&"),a=0,o=i.length;a<o;a++)if(t=i[a].split("="),/^search$/i.test(t[0])){QuickSearcher.search.value=decodeURIComponent(t[1]);break}QuickSearcher.search.oninput=function(){QuickSearcher.query(this.value)},QuickSearcher.search.value&&QuickSearcher.query(QuickSearcher.search.value)}var r=n.querySelectorAll("#index-list a");for(a=0,o=r.length;a<o;a++)r[a].insertAdjacentHTML("beforebegin",'<a class="sub-section-button fa" href="#toggle-sub-section" onclick="ToggleSubSection(this, \''+r[a].innerHTML+'\'); return false;" title="Toggle sub-sections" data-open="false"></a>'),r[a].insertAdjacentHTML("afterend",'<ul style="display:none;"></ul>'),r[a].parentNode.className+=" noBullet";e.ToggleSubSection=function(e,t){var i=e.parentNode.lastChild;if(!i.innerHTML){for(var a=n.querySelectorAll("#section-"+t+" h3"),o=0,r=a.length,l="";o<r;o++)l+='<li><a href="#'+a[o].id+'">'+a[o].innerHTML.replace(/\s\(.*\)$/,"").replace(/<a.*?>.*?<\/a>/g,"")+"</a></li>";i.innerHTML=l}/none/.test(i.style.display)?(i.style.display="block",e.dataset.open=!0):(i.style.display="none",e.dataset.open=!1)},AddJumpArrowsTo(".lesson-title","index","Jump to Index")}(window,document);