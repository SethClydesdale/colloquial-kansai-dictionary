!function(e,t){"use strict";t.documentElement&&(t.documentElement.className+=/Linux/.test(e.navigator.platform)?" os-linux":""),e.offlineEdge="file:"==e.location.protocol&&/Edge/.test(navigator.userAgent),e.storageOK=!(!navigator.cookieEnabled||offlineEdge||!e.localStorage),e.GenkiModal={open:function(i){i=i||{},GenkiModal.close();var n,o,a=t.createElement("DIV");return a.id="genki-modal",a.innerHTML='<div id="genki-modal-overlay"'+("low"==i.zIndex?' style="z-index:1;"':"")+'></div><div id="genki-modal-body" style="'+("low"==i.zIndex?"z-index:2;":"")+(i.customSize?"top:"+i.customSize.top+";right:"+i.customSize.right+";bottom:"+i.customSize.bottom+";left:"+i.customSize.left+";":"")+'"><h2 id="genki-modal-header">'+(i.title?i.title:"Popup")+'</h2><div id="genki-modal-content">'+(i.content?i.content:"")+'</div><div id="genki-modal-buttons" class="center">'+(i.noClose?"":'<button id="genki-modal-close" class="button" onclick="GenkiModal.close();">'+(i.closeButtonText?i.closeButtonText:"Close")+"</button>")+(i.customButton?i.customButton:"")+"</div></div>",i.callback&&(n=t.createElement("BUTTON"),o=a.querySelector("#genki-modal-buttons"),n.innerText=i.buttonText?i.buttonText:"OK",n.id="genki-modal-ok",n.className="button",n.onclick=function(){i.callback(),!i.keepOpen&&GenkiModal.close()},o.insertBefore(n,o.firstChild)),t.body.style.overflow="hidden",t.body.appendChild(a),i.focus?t.querySelector(i.focus).focus():i.noFocus||t.getElementById("genki-modal-"+(i.callback?"ok":"close")).focus(),i.closeCallback&&(t.getElementById("genki-modal-close").onclick=function(){i.closeCallback(),!i.keepOpen&&GenkiModal.close()}),e.Genki&&Genki.timer&&Genki.timer.isRunning()&&Genki.pauseTimerWhenOpenPopup(),i},close:function(){var i=t.getElementById("genki-modal");i&&(t.body.style.overflow="",t.body.removeChild(i)),e.Genki&&Genki.timer&&Genki.timer.isPaused()&&Genki.startTimerWhenClosePopup()}},e.AddJumpArrowsTo=function(e,i,n){for(var o=t.querySelectorAll(e),a=0,s=o.length;a<s;a++)o[a].insertAdjacentHTML("beforeEnd",'<a href="#'+(i||"")+'" class="jump-arrow fa" title="'+(n||"")+'">&#xf062;</a>')},e.getPaths=function(){var t=e.location.pathname;return/\/lessons\//.test(t)?"../../../":/\/help\/.*?\//.test(t)?"../../":/\/report\/|\/download\/|\/donate\/|\/privacy\/|\/help\/(index|$)/.test(t)?"../":""},e.GenkiSettings={manager:function(){var e=+localStorage.genkiFontSize||100,t=+localStorage.genkiPageWidth||100,i=localStorage.darkMode||"off",n=localStorage.adverts||"on",o=localStorage.genkiCustomCSS||"",a=localStorage.furiganaVisible||"true",s=localStorage.genkiJishoLookUp||"true";GenkiSettings.stylesheet||GenkiSettings.createStylesheet(),GenkiModal.open({title:"Settings Manager",content:'<p>Here you can manage your settings for Colloquial Kansai Dictionary. To learn more about a setting, hover over its label for a short description.</p><div class="section-title">Display</div><ul class="genki-settings-list"><li><span class="label" title="Increases the font size for the site.">Font Size:</span><input id="font-size-range" type="range" min="100" max="500" value="'+e+'" oninput="GenkiSettings.updateFontSize(this);" onchange="GenkiSettings.updateFontSize(this, true);"><span id="font-size-value">'+e+'%</span></li><li><span class="label" title="Increases the maximum page width for the site (up to the size of your screen).">Page Width:</span><input id="page-width-range" type="range" min="100" max="500" value="'+t+'" oninput="GenkiSettings.updatePageWidth(this);" onchange="GenkiSettings.updatePageWidth(this, true);"><span id="page-width-value">'+t+'%</span></li><li><span class="label" title="Enable or disable Dark Mode.">Dark Mode:</span><button id="settings-dark-mode" class="button'+("on"==i?"":" opt-off")+'" onclick="GenkiSettings.updateDarkMode(this);">'+("on"==i?"ON":"OFF")+'</button></li><li><span class="label" title="Enable or disable Ads.\nAds help support the developer, but if they\'re annoying or distracting, you can turn them off with this option.">Ads:</span><button id="settings-dark-mode" class="button'+("on"==n?"":" opt-off")+'" onclick="GenkiSettings.updateAdverts(this);">'+("on"==n?"ON":"OFF")+'</button></li><li><span class="label" title="Use your own CSS to customize the design of the site to your liking.">Custom CSS:<br><a href="https://www.w3schools.com/css/css_intro.asp" target="_blank" style="font-weight:normal;"><small>What is CSS?</small></a></span><textarea id="page-custom-css" oninput="GenkiSettings.updateCustomCSS(this, true);">'+o+'</textarea></li></ul><div class="section-title">Other</div><ul class="genki-settings-list"><li><span class="label" title="Enable or disable furigana for kanji.">Furigana:</span><button id="settings-furigana" class="button'+("true"==a?"":" opt-off")+'" onclick="GenkiSettings.updateFurigana(this);">'+("true"==a?"ON":"OFF")+'</button></li><li><span class="label" title="Enable or disable the look up button that appears when you select texts.\nThis feature may interfere with some IMEs, so it is recommended to disable it if you encounter any issues.">Quick Jisho Look Up:</span><button id="settings-jisho-lookup" class="button'+("true"==s?"":" opt-off")+'" onclick="GenkiSettings.updateJishoLookUp(this);">'+("true"==s?"ON":"OFF")+"</button></li></ul>",buttonText:"Close",noFocus:!0,focus:"#font-size-range",customSize:{top:"5%",left:"10%",bottom:"5%",right:"10%"}})},updateButton:function(e,t){/opt-off/.test(e.className)?(e.innerText="ON",e.className=e.className.replace("opt-off",""),t&&t("ON")):(e.innerText="OFF",e.className+=" opt-off",t&&t("OFF"))},updateFontSize:function(e,i){var n=(e?+e.value:localStorage.genkiFontSize)/100;if(e&&(e.nextSibling.innerText=e.value+"%"),i){var o="/*FONT-SIZE-START*/footer li:before { font-size:"+6*n+"px }.kana-quiz.quiz-over [data-mistakes]:after { font-size:"+8*n+"px }.quiz-over .vocab-horizontal [data-mistakes]:after, .verb-quiz.quiz-over [data-mistakes]:after { font-size:"+10*n+"px }.define, #announcement .announcement .date, #quick-search-results li[data-lesson]:before, .writing-quiz .quiz-item:before, .helper-present #question-list .quiz-item:before, .furigana, .inline-furi i, ruby rt, .secondary-answer, .def-ja.def-furi i { font-size:"+11*n+"px }#exercise-title:after, .title[data-page]:after, #exercise-list li a[data-page]:hover:after, #exercise-list li a[data-page]:focus:after, .leg-desc, .sectionNumber3rd { font-size:"+12*n+"px }.kanji-readings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .kanji-meanings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .image-list span i, .checkbox-label { font-size:"+13*n+'px }body, p, input[type="text"], input[type="number"], textarea, select, #announcement .announcement, #link-list span, .workbook-title, .normal-block, .quiz-over [data-mistakes]:after, #wrongAnswer:before, .writing-quiz .quiz-item, input.writing-zone-input, .quiz-multi-question, .quiz-multi-answer, .text-block, .fill-quiz .writing-zone-input, .problem-hint, .problem-answer, .definition, .lesson-summary, #exercise-list .sub-lesson-title, .button:not(.play-button), a.button, #study-tool-settings li { font-size:'+14*n+"px }#exercise-list .lesson-title, #genki-modal-content, .table.grammar-table td { font-size:"+15*n+"px }#link-list i, #exercise:before, .loading:before, .sub-lesson-title, .workbook-title, .title-desc, #exercise .text-passage, #complete-banner, #downloadCode:before, .definition-count, .multi-vocab rt, .table-head { font-size:"+16*n+"px }.group-selectors .select-all:before, .group-selectors .deselect-all:before { font-size:"+17*n+"px }.button .fa, .more-exercises a:after, .more-exercises a:before, #link-github i, #link-help i, .title-med, .sub-title, #exercise-list .main-title, .quiz-multi-answer:before, #genki-site-settings, .dictionary-index li, #quick-jisho-title { font-size:"+18*n+"px }#quick-actions h2, .lesson-title, .vocab-key:before { font-size:"+20*n+"px }.section-title, #exercise-title, #break-timer, #announcement .fa, .multi-vocab-sentence { font-size:"+24*n+"px }.kanji-readings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz #question-list .quiz-item { font-size:"+26*n+"px }.title { font-size:"+28*n+"px }.multi-vocab { font-size:"+32*n+"px }.slim-ruby ruby { width:"+10*n+"px }.result-label { width:"+150*n+"px }.kana-quiz .quiz-answer-zone:empty, .kana-quiz .quiz-item { width:"+35*n+"px }.problem-hint, .problem-answer { height:"+20*n+"px }#quiz-progress, #quiz-progress-bar { height:"+25*n+"px }#genki-site-settings { height:"+26*n+"px }.kanji-meanings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .drag-quiz .quiz-item, .drag-quiz .quiz-answer-zone { height:"+28*n+"px }.vocab-key:before, .kana-quiz .quiz-answer-zone:empty, .kana-quiz .quiz-item { height:"+30*n+"px }#genki-modal-buttons, #genki-modal-header { height:"+40*n+"px }.kanji-meanings.drag-quiz .quiz-answer-zone, .kanji-meanings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz .quiz-answer-zone, .kanji-readings.drag-quiz .quiz-answer-zone, .kanji-readings.drag-quiz .quiz-item { height:"+48*n+"px }#announcement { height:"+105*n+"px }#announcement .announcement { height:"+70*n+"px }.multi-vocab { min-height:"+64*n+"px }.secondary-answer { line-height:"+10*n+"px; }#exercise-list li a[data-page]:focus:after, #exercise-list li a[data-page]:hover:after { line-height:"+12*n+"px; }.writing-quiz .quiz-item:before, .helper-present #question-list .quiz-item:before { line-height:"+15*n+"px; }.kanji-readings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .kanji-meanings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .drag-quiz .quiz-item, .drag-quiz .quiz-answer-zone, .problem-hint, .problem-answer { line-height:"+20*n+"px; }.kana-quiz .quiz-answer-zone:empty, .kana-quiz .quiz-item { line-height:"+22*n+"px; }#genki-site-settings, #quiz-progress-text { line-height:"+26*n+"px; }#quick-jisho-title { line-height:"+32*n+"px; }.vocab-key:before { line-height:"+34*n+"px; }#genki-modal-buttons, #genki-modal-header { line-height:"+40*n+"px; }.kanji-readings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz #question-list .quiz-item { line-height:"+44*n+"px; }.vocab-key { padding-top:"+30*n+"px; }.writing-quiz .helper-present #question-list .quiz-item[data-helper] { margin-bottom:"+3*n+"px; }.quiz-multi-answer.next-question:before { margin-top:-"+9*n+"px; }.quiz-multi-answer:before { margin-top:-"+10*n+"px; }.writing-quiz .quiz-answer-row.furi-row { margin-bottom:"+12*n+"px; }.def-ja.def-furi { margin-bottom:"+15*n+"px; }.vocab-horizontal.helper-present #question-list .quiz-item, .helper-present #question-list .quiz-item[data-helper], .helper-present #drop-list .quiz-answer-zone.helper-answer { margin-bottom:"+18*n+"px; }.problem-hint, .problem-answer { margin-bottom:-"+20*n+"px; }.fill-quiz .small-margin .block, .fill-quiz .small-margin .problem { margin-bottom:"+25*n+"px; }.question-block { margin:"+30*n+"px 0; }.fill-quiz .big-margin, .fill-quiz .example-problem, .fill-quiz .problem, .fill-quiz.quiz-over td .writing-zone { margin-bottom:"+40*n+"px; }.kana-quiz .answer-correct .quiz-item:before { top:-"+5*n+"px; right:-"+8*n+"px; }.writing-quiz .quiz-item:before, .helper-present #question-list .quiz-item:before, .def-ja.def-furi i { bottom:-"+15*n+"px }.question-block:after { top:-"+20*n+"px }.quiz-multi-answer:before { left:-"+25*n+"px }#genki-modal-content { top:"+40*n+"px }#genki-modal-content { bottom:"+40*n+"px }#wrongAnswer:before { right:-"+70*n+"px }.quiz-over [data-mistakes]:after { right:-"+85*n+"px }.fill-quiz .writing-zone-input, .section-title, .lesson-title, #link-list a { border-bottom-width:"+2*n+"px; }#genki-modal-body { top:"+10/n+"%; left:"+25/n+"%; right:"+25/n+"%; bottom:"+40/n+"%; }#exercise-list { width:"+300*n+"px; left:-"+301*n+"px; }#toggle-exercises.list-open { left:"+(300*n-30)+"px; }#quick-jisho-window { height:"+300*n+"px; width:"+500*n+"px; }#quick-jisho-window.quick-jisho-hidden { bottom:-"+310*n+"px; }#quick-jisho-results { height:"+219*n+"px; }#quick-jisho-search { height:"+35*n+"px; }.quick-jisho-row, #quick-jisho-results { padding:"+3*n+"px; }#quick-jisho-selector { border-radius:"+15*n+"px; }#quick-nav-list a.sub-section-button { font-size:"+11*n+"px; height:"+18*n+"px; width:"+18*n+"px; line-height:"+20*n+"px; left:-"+22*n+"px; }#quick-nav-list li:before { height:"+6*n+"px; width:"+6*n+"px; left:-"+16*n+"px; }#quick-nav-list li ul li:before { height:"+4*n+"px; width:"+4*n+"px; }.button.play-button { height:"+25*n+"px; width:"+25*n+"px; }.button.play-button i { font-size:"+14*n+"px; }.example-problem:before { font-size:"+12*n+"px; line-height:"+12*n+"px; padding:"+2*n+"px; border-radius:"+5*n+"px; }.example-problem.inline-columns { padding-left:"+62*n+"px; }.sectionNumber3rd, .section-number { width:"+22*n+"px; height:"+22*n+"px; line-height:"+21*n+"px; }#quiz-info { padding:"+15*n+"px "+15*n+"px "+15*n+"px "+50*n+"px; }#quiz-info:before { font-size:"+32*n+"px; margin-top:-"+16*n+"px; left:"+12*n+"px; }#announcement .announce-controls { margin-top:-"+15*n+"px; height:"+30*n+"px; width:"+20*n+"px; }#announcement .announce-controls i.fa { font-size:"+18*n+"px; line-height:"+26*n+"px; }#announcement .announce-controls.button-left { left:-"+20*n+"px; }#announcement .announce-controls.button-right { right:-"+20*n+"px; }#announce-list { margin:0 "+20*n+"px; }.drawing-quiz .stroke-order-button, .dictionary-group .group-selectors .button, .dict-search-wrapper .group-selectors .button, .button.icon-only, .kanji-stroke-order, .kanji-stroke-order .button, .drawing-zone { font-size:13px }.dictionary-group .group-selectors .deselect-all:before, .dictionary-group .group-selectors .select-all:before, .dict-search-wrapper .group-selectors .deselect-all:before, .dict-search-wrapper .group-selectors .select-all:before { font-size:17px }.button.icon-only .fa, #random-exercise i { font-size:18px }/*FONT-SIZE-END*/";if(/\/\*FONT-SIZE-START\*\//.test(GenkiSettings.stylesheet.innerText)?GenkiSettings.stylesheet.innerText=GenkiSettings.stylesheet.innerText.replace(/\/\*FONT-SIZE-START\*\/.*?\/\*FONT-SIZE-END\*\//,o):GenkiSettings.stylesheet.innerText+=o,e)for(var a=t.querySelectorAll("[data-default-width]"),s=0,l=a.length;s<l;s++)a[s].style.width=a[s].dataset.defaultWidth*n+"px"}e&&(localStorage.genkiFontSize=e.value)},updatePageWidth:function(e,t){var i=(e?+e.value:localStorage.genkiPageWidth)/100;if(e&&(e.nextSibling.innerText=e.value+"%"),t){var n="/*PAGE-WIDTH-START*/.content-block, #announce-inner { max-width:"+1e3*i+"px }/*PAGE-WIDTH-END*/";/\/\*PAGE-WIDTH-START\*\//.test(GenkiSettings.stylesheet.innerText)?GenkiSettings.stylesheet.innerText=GenkiSettings.stylesheet.innerText.replace(/\/\*PAGE-WIDTH-START\*\/.*?\/\*PAGE-WIDTH-END\*\//,n):GenkiSettings.stylesheet.innerText+=n}e&&(localStorage.genkiPageWidth=e.value)},updateDarkMode:function(e){t.getElementById("light-switch-checkbox").click(),GenkiSettings.updateButton(e)},updateAdverts:function(t){GenkiSettings.updateButton(t,function(t){localStorage.adverts="ON"==t?"on":"off",GenkiModal.open({title:"Reload Required",content:"The page needs to be reloaded for this setting to take effect. Do you want to reload now?",buttonText:"Reload",closeButtonText:"Return to Settings",callback:function(){e.location.reload()},closeCallback:function(){setTimeout(GenkiSettings.manager,10)}})})},updateCustomCSS:function(e,t){if(t){var i="/*CUSTOM-CSS-START*/"+(e?e.value:localStorage.genkiCustomCSS)+"/*CUSTOM-CSS-END*/";/\/\*CUSTOM-CSS-START\*\//.test(GenkiSettings.stylesheet.innerText)?GenkiSettings.stylesheet.innerText=GenkiSettings.stylesheet.innerText.replace(/\/\*CUSTOM-CSS-START\*\/.*?\/\*CUSTOM-CSS-END\*\//,i):GenkiSettings.stylesheet.innerText+=i}e&&(localStorage.genkiCustomCSS=e.value)},updateFurigana:function(e){GenkiSettings.updateButton(e,function(e){var i=t.querySelector(".furigana-toggler");i?i.click():localStorage.furiganaVisible="ON"==e?"true":"false"})},updateJishoLookUp:function(e){GenkiSettings.updateButton(e,function(e){localStorage.genkiJishoLookUp="ON"==e?"true":"false"})},createStylesheet:function(){GenkiSettings.stylesheet||(GenkiSettings.stylesheet=t.createElement("STYLE"),GenkiSettings.stylesheet.type="text/css",t.getElementsByTagName("HEAD")[0].appendChild(GenkiSettings.stylesheet))}},storageOK&&(GenkiSettings.createStylesheet(),localStorage.genkiFontSize&&"100"!=localStorage.genkiFontSize&&GenkiSettings.updateFontSize(!1,!0),localStorage.genkiPageWidth&&"100"!=localStorage.genkiPageWidth&&GenkiSettings.updatePageWidth(!1,!0),localStorage.genkiCustomCSS&&""!=localStorage.genkiCustomCSS&&GenkiSettings.updateCustomCSS(!1,!0)),storageOK&&(!localStorage.darkMode&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches&&(localStorage.darkMode="on"),"on"==localStorage.darkMode&&(t.write('<link id="dark-mode" href="'+getPaths()+'resources/css/stylesheet-dark.min.css" rel="stylesheet">'),t.documentElement.className+=" dark-mode")),navigator.cookieEnabled||console.warn("Cookies are not available either due to host or browser settings. Colloquial Kansai Dictionary will function in limited mode where settings are not remembered and certain features are unavailable. This issue can commonly be resolved by enabling third-party cookies. Please contact the developer for further assistance.\nhttps://github.com/SethClydesdale/colloquial-kansai-dictionary/issues")}(window,document);