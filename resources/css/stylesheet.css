@font-face {
  font-family:'FontAwesomeWeb';
  src:url('../fonts/fontawesome-webfont.eot?v=4.7.0');
  src:url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), 
      url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), 
      url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), 
      url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), 
      url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
  font-weight:normal;
  font-style:normal;
}

.fa {
  display:inline-block;
  font:normal normal normal 14px/1 FontAwesomeWeb, FontAwesome;
  font-size:inherit;
  text-rendering:auto;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* dictionary styles */
.lesson-exercises { display:none; }
.main-color { color:#C33; }
.example {
  border:1px solid #CCC;
  border-left:3px solid #C33;
  margin:10px 5px;
  padding:5px;
  background:#FFF;
}

.example .line .name:after { content:":"; }
.example .line .name {
  font-weight:bold;
  text-align:right;
  float:left;
  width:25%;
  padding-right:5px;
  word-wrap:break-word;
}

.example .line .text {
  float:left;
  width:72%;
}
.hidden { visibility:hidden; }

#appendix-tool .workbook-title { color:#C33; }
#appendix-tool li a {
  display:inline-block;
  padding:3px;
}

#appendix-tool .lesson-title {
  margin-bottom:20px;
}

#appendix-tool .workbook-title {
  margin-bottom:10px;
  margin-left:0;
}

.table.grammar-table td {
  font-size:15px;
}

.table.grammar-table td:nth-child(2), .table td { background:#F7F7F7 }
.table.grammar-table tr td:first-child, .table .table-head td {
  width:50px;
  font-weight:bold;
  text-align:center;
  background:#EEE;
}
.dark-mode .table.grammar-table tr td:first-child, .dark-mode .table .table-head td { background:#222; }
.dark-mode .table.grammar-table tr td:nth-child(2), .dark-mode .table td { background:#1A1A1A; }

.table.grammar-table ul, .table.grammar-table ol, .table ul, .table ol {
  margin:0;
  padding-left:30px;
}

.grammar-toggler { margin-bottom:10px; }

.page-data {
  font-size:12px;
  color:#FFF;
  background:#C33;
  border:1px solid #A11;
  padding:3px 6px;
  border-radius:30px;
}

#index-list .page-data { display:none; }
.workbook-title, #quick-search-results { position:relative; }
.workbook-title .page-data {
  position:absolute;
  right:30px;
}

#quick-search-results .page-data {
  position:absolute;
  right:3px;
}

/* text blocks */
.text-block {
  font-size:15px;
  background:#EEE;
  border:1px solid #CCC;
  margin:30px auto;
  padding:15px;
  overflow-x:auto;
}

.text-block .sub-section {
  background-color:#FFF;
  border:1px solid #DDD;
  padding:6px;
}

.text-block　.sub-section .sub-section {
  background-color:rgba(0, 0, 0, 0.05);
  border-color:rgba(0, 0, 0, 0.08);
}

.text-block p { margin:0 0 25px 0; }


/* text-selection */
::selection { color:#FFF; background-color:#C33; }
::-moz-selection { color:#FFF; background-color:#C33; }


/* body/general styles */
body {
  color:#333;
  background:#FFF;
  font-size:15px;
  font-family:'メイリオ', 'Meiryo', 'Osaka', 'ＭＳ Ｐゴシック', 'MS PGothic', "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", Arial, sans-serif;
  padding:0;
  margin:0;
  display:flex;
  min-height:100vh;
  flex-direction:column;
}

p { font-size:15px; }
ul { padding-left:40px; }

hr {
  border:none;
  border-bottom:1px solid #999;
}

a {
  color:#A00;
  text-decoration:none;
  outline:none;
}
a:hover, a:focus { text-decoration:underline; }

img { max-width:100%; }

/* focus style for image links */
a:focus img {
  outline:1px solid #C33;
}

code {
  color:#C33;
  background:#EEE;
  border:1px solid #CCC;
  padding:3px;
}

.nopad {
  padding:0 !important;
}

.button, a.button {
  color:#FFF;
  background:#C33;
  font-size:15px;
  font-family:'メイリオ', 'Meiryo', 'Osaka', 'ＭＳ Ｐゴシック', 'MS PGothic', "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", Arial, sans-serif;
  text-decoration:none;
  border:none;
  font-weight:bold;
  display:inline-block;
  padding:6px 12px;
  margin:3px;
  cursor:pointer;
  outline:none;
  -webkit-touch-callout:none;
    -webkit-user-select:none;
     -khtml-user-select:none;
       -moz-user-select:none;
        -ms-user-select:none;
            user-select:none;
}

.button:hover, a.button:hover { background:#B22; }
.button:focus, a.button:focus { background:#A11; }

/* button icons */
.button .fa {
  font-size:18px;
  vertical-align:middle;
  margin-right:6px;
}

.button.icon-only {
  height:25px;
  width:25px;
  padding:0;
  margin:3px;
}
.button.icon-only i { margin:0; }

/* input fields */
input[type="text"], input[type="number"], textarea, select {
  font-size:15px;
  font-family:'メイリオ', 'Meiryo', 'Osaka', 'ＭＳ Ｐゴシック', 'MS PGothic', "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", Arial, sans-serif;
  background:#FFF;
  border:1px solid #CCC;
  padding:6px;
  outline:none;
}
select { cursor:pointer; }
input[type="text"]:disabled, input[type="number"]:disabled, textarea:disabled, select:disabled { color:#333; }
input[type="text"]::placeholder, input[type="number"]::placeholder, textarea::placeholder { color:#BBB; }
input[type="text"]:hover, input[type="number"]:hover, textarea:hover, select:hover { border-color:#999; }
input[type="text"]:focus, input[type="number"]:focus, textarea:focus, select:focus { border-color:#C33; }

/* aesthetic styles */
.center { text-align:center; }
.right { text-align:right; }
.left { text-align:left; }

.ul { text-decoration:underline; }
.ul-single, .ul-double {
  text-decoration:none;
  position:relative; 
}
.ul-single:after, .ul-double:after, .ul-double:before {
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:2px;
  border-bottom:1px solid #333;
}
.ul-double:before { bottom:0px; }

.inline { display:inline-block; }
.t-valign-top { vertical-align:top; }

/* text styles */
.t-red { color:#F00; }
.t-green { color:#080; }
.t-blue { color:#09F; }
.t-orange { color:#C33; }
.t-bold { font-weight:bold; }

/* margin */
.nomargin { margin:0 !important; }
.clearfix { clear:both; }
.clear:after, .line:after {
  content:"";
  display:table;
  clear:both;
}

.vertical-text {
        -ms-writing-mode:tb-rl;
	-webkit-writing-mode:vertical-rl;
	        writing-mode:vertical-rl;
  text-align:left !important;
  max-height:300px;
}

/* spoilers */
.spoiler {
  color:#444;
  background:#444;
  display:inline-block;
  padding:0 3px;
}

.spoiler:hover { color:#FFF; }

.problem-hint .spoiler { margin-top:2px; }

/* tables */
.table {
  width:100%;  
  border-collapse:collapse;
}

.table td {
  background:#FFF;
  border:1px solid #DDD;
  padding:3px;
}

.table-head {
  font-size:16px;
  font-weight:bold;
}

.sub-table {
  width:100%;
  border-collapse:collapse;
}

.sub-table td {
  border-left:0;
  border-top:0;
}

.example-row td { vertical-align:top; }
.example-row div { margin:10px 0; }

/* used for definitions, ex: 兄弟[きょうだい：siblings; ...]
   the bracketed portion should be wrapped with tags of this class */
.define {
  font-size:11px;
  font-style:normal;
  font-weight:bold;
  vertical-align:super;
}

/* lesson number for kanji or words */
.lesson-num {
  font-size:12px;
  font-style:normal;
  vertical-align:top;
}

/* resize large images */
.lesson-image img { max-width:100%; }

/* header */
header {
  color:#FFF;
  background:url('../images/kansai.png') no-repeat 10px 50% #C33;
  padding:15px 15px 15px 140px;
  position:relative;
  overflow:hidden;
}

#home-link:before { /* makes the above background image clickable */
  content:"";
  position:absolute;
  height:100px;
  width:110px;
  left:14px;
  top:50%;
  margin-top:-50px;
}

header h1 { font-size:32px; }
header h1 a { color:#FFF; }

h2 { margin:30px 0 0 0; }

a#fork-me {
  color:#FFF;
  background:#333;
  font-size:16px;
  font-weight:bold;
  text-align:center;
  text-transform:uppercase;
  text-decoration:none;
  line-height:30px;
  height:30px;
  width:200px;
  transform:rotate(45deg);
  position:absolute;
  right:-55px;
  top:30px;
  transition-property:color, background;
  transition-duration:300ms;
}

a#fork-me:hover, a#fork-me:focus {
  color:#333;
  background:#FFF;
}

/* announcement */
#announcement {
  color:#FFF;
  background:#C33;
  border:1px solid #900;
  border-right:none;
  border-left:none;
  height:110px;
}

#announce-inner {
  max-width:1000px;
  margin:0 auto;
  padding:0 30px;
}

#announcement .fa {
  font-size:24px;
  vertical-align:middle;
}

#announcement a {
  color:#FF0;
  font-weight:bold;
}

#announcement h3 { margin:10px 0 0 0; }

#announcement .announcement {
  font-size:16px;
  height:75px;
  box-sizing:border-box;
  padding:3px 6px;
  overflow-y:auto;
}

#announcement .announcement.announce-hidden {
  display:none;
}

#announcement .announcement .date {
  color:#FFF;
  font-size:11px;
  font-weight:normal;
  background:#B22;
  border:1px solid #A11;;
  border-radius:3px;
  padding:1px;
  margin-right:3px;
}

#announce-list {
  position:relative;
  margin:0 20px;
}

#announcement .announce-controls {
  background:rgba(0, 0, 0, 0.3);
  text-align:center;
  position:absolute;
  top:50%;
  margin:-15px 0 0 0;
  height:30px;
  width:20px;
  padding:0;
  opacity:0.5;
}

#announcement .announce-controls i.fa {
  font-size:18px;
  line-height:26px;
  margin:0;
}

#announcement .announce-controls:hover, #announcement .announce-controls:focus { opacity:1; }

#announcement .announce-controls.button-left { left:-20px; }
#announcement .announce-controls.button-right { right:-20px; }

/* content */
#content { flex:1 0 auto; }

.content-block {
  max-width:1000px;
  margin:0 auto;
  padding:30px;
}

/* section anchors */
a.anchor {
  color:#666;
  font-size:16px;
  font-weight:normal;
  text-decoration:none;
  text-align:center;
  vertical-align:middle;
  display:inline-block;
  width:25px;
  margin:0 0 0 -25px;
}

.anchor-icon {
  display:inline-block;
  transform:rotate(-45deg);
  visibility:hidden;
}

h1:hover .anchor-icon, h2:hover .anchor-icon, h3:hover .anchor-icon, h4:hover .anchor-icon, h5:hover .anchor-icon, h6:hover .anchor-icon, .anchor:focus .anchor-icon {
  visibility:visible;
}

/* link list */
#page-links { margin:15px 0 0 0; }
#link-list { font-size:0; }
#link-list div { font-size:15px; }

#link-list a, #link-list button {
  color:#FFF;
  text-shadow:1px 1px 0 rgba(0, 0, 0, 0.3);
  font-weight:bold;
  text-decoration:none;
  display:inline-block;
  padding:3px 6px;
  margin:10px 10px 0 0;
}

.helper-present #link-list .button.furigana-toggler { border-bottom:2px solid #A11; }
#link-home      { background-color:#05C; border-bottom:2px solid #03A; }
#link-settings  { background-color:#39C; border-bottom:2px solid #17A; }
#link-report    { background-color:#F66; border-bottom:2px solid #D44; }
#link-download  { background-color:#9C6; border-bottom:2px solid #7A4; }
#link-donate    { background-color:#C6C; border-bottom:2px solid #A4A; }
#link-github    { background-color:#96F; border-bottom:2px solid #74D; }
.helper-hidden #link-list .button.furigana-toggler { background-color:#666; border-bottom:2px solid #444; }
#link-home:hover     { background-color:#04B; }
#link-settings:hover { background-color:#28B; }
#link-report:hover   { background-color:#E55; }
#link-download:hover { background-color:#8B5; }
#link-donate:hover   { background-color:#B5B; }
#link-github:hover   { background-color:#85E; }
.helper-hidden #link-list .button.furigana-toggler:hover { background-color:#555; }
#link-home:active,
#link-home:focus     { background-color:#03A; }
#link-settings:active,
#link-settings:focus { background-color:#17A; }
#link-report:active,
#link-report:focus   { background-color:#D44; }
#link-download:active,
#link-download:focus { background-color:#7A4; }
#link-donate:active,
#link-donate:focus   { background-color:#A4A; }
#link-github:active,
#link-github:focus   { background-color:#74D; }
.helper-hidden #link-list .button.furigana-toggler:active,
.helper-hidden #link-list .button.furigana-toggler:focus { background-color:#444; }

#link-list i {
  font-size:16px;
  vertical-align:middle;
  margin-right:6px;
}
#link-github i, #link-help i { font-size:18px; }

/* index and quick search */
#quick-actions > div { margin:0; }
#quick-actions h2 {
  font-size:20px;
  margin-top:15px;
}

#quick-search {
  width:100%;
  box-sizing:border-box;
  margin-top:1em;
}

#quick-search-results { border:1px solid #CCC; }
#quick-search-results {
  height:300px;
  padding:3px;
  overflow:auto;
}

#quick-search-results li {
  white-space:nowrap;
  overflow:hidden;
}

#quick-search-results a {
  font-weight:bold;
}

#quick-search-results:empty { display:none; }

/* index list */
#index-list li {
  position:relative;
  list-style-type:none;
}

#index-list li:before {
  content:".";
  font-size:0;
  display:block;
  height:6px;
  width:6px;
  background:#C33;
  border-radius:100%;
  position:absolute;
  top:10px;
  left:-16px;
}

#index-list li ul { padding-left:20px; }
#index-list li ul li:before {
  background:transparent;
  border:2px solid #C33;
  height:4px;
  width:4px;
}

#index-list li.noBullet:before { display:none; }

#index-list li a {
  font-size:16px;
  font-weight:bold;
}

#index-list a.sub-section-button {
  color:#FFF;
  background:#C33;
  font-size:11px;
  text-align:center;
  text-decoration:none;
  display:inline-block;
  height:18px;
  width:18px;
  line-height:20px;
  padding:0;
  border-radius:100%;
  position:absolute;
  top:4px;
  left:-22px;
}

#index-list a.sub-section-button:hover,
#index-list a.sub-section-button:focus { background-color:#A11 }

a.sub-section-button[data-open="true"]:after { content:"\f078"; }
a.sub-section-button[data-open="false"]:after {
  content:"\f054";
  letter-spacing:-2px;
}

/* index jump buttons */
a.jump-arrow {
  color:#C33;
  text-decoration:none;
  float:right;
  margin:6px 3px 0 0;
}
a.jump-arrow:hover, a.jump-arrow:focus { color:#900; }

/* lesson numbers */
#quick-search-results li[data-lesson]:before {
  content:attr(data-lesson);
  color:#FFF;
  font-size:11px;
  background:#C33;
  border:1px solid #B22;;
  border-radius:3px;
  padding:0px 2px;
  margin-right:3px;
  display:none;
}

/* titles */
.lesson-title {
  color:#C33;
  font-size:20px;
  border-bottom:2px solid #C33;
  padding-bottom:3px;
}

.sub-lesson-title, .workbook-title {
  font-size:16px;
  margin:0 0 0 20px;
}
.normal-block { font-size:15px; }

.title {
  color:#C33;
  font-size:28px;
  margin:20px 0;
}

.title-desc {
  font-size:16px;
}

.title-med {
  font-size:18px;
  margin:10px 0;
}

.section-title {
  color:#C33;
  font-size:24px;
  border-bottom:2px solid #C33;
  margin:0;
  padding-bottom:6px;
}

.sub-title {
  font-size:18px;
  margin:16px 0;
}

/* footer */
footer {
  color:#FFF;
  background:#333;
  text-align:center;
  padding:15px;
}

footer a, #light-switch-label { color:#CCC; }
footer a:hover, #light-switch-label:hover { color:#FFF; }

footer ul {
  list-style-type:none;
  margin:0;
  padding:0;
}

footer li { float:left; }
footer li:before {
  content:"\f111";
  font-family:FontAwesomeWeb, FontAwesome;
  font-size:6px;
  margin:0 5px;
  vertical-align:middle;
}
footer li:first-child:before { display:none; }

.footer-left { float:left; }
.footer-right { float:right; }


/* QUICK NAV */
#quick-nav, #toggle-navigation, #toggle-navigation:after, #toggle-navigation:before { transition-duration:300ms; } /* list transition */
#quick-nav {
  background:#EEE;
  border-right:1px solid #CCC;
  position:fixed;
  top:0;
  left:-301px;
  bottom:0;
  width:300px;
  visibility:hidden;
  z-index:10;
}

.list-open + #quick-nav {
  left:0;
  visibility:visible;
}

/* toggle button */
#toggle-navigation {
  background:#900;
  text-decoration:none;
  text-align:center;
  line-height:32px;
  height:32px;
  width:32px;
  position:fixed;
  top:0;
  left:0;
  z-index:11;
  cursor:pointer;
  transition-property:left;
}
#toggle-navigation:hover { background:#A11; }
#toggle-navigation:focus { background:#B22; }

#toggle-navigation:after, #toggle-navigation:before {
  color:#FFF;
  font-size:28px;
  font-family:FontAwesomeWeb, FontAwesome;
  position:absolute;
  left:0;
  right:0;
  transition-property:opacity;
}

#toggle-navigation:after { content:"\f0c9"; }
#toggle-navigation:before {
  content:"\f00d";
  opacity:0;
}

#toggle-navigation.list-open { left:268px; }
#toggle-navigation.list-open:after { opacity:0; }
#toggle-navigation.list-open:before { opacity:1; }

/* lesson list */
#lessons-list {
  overflow-y:auto;
  overflow-x:hidden;
  height:95%;
  height:calc(100% - 32px);
}

/* titles */
#quick-nav .main-title {
  color:#FFF;
  background:#C33;
  font-size:18px;
  text-align:center;
  line-height:32px;
  margin:0;
}

.menu-item-list {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  position:relative;
}

#quick-nav .lesson-title {
  color:#333;
  font-size:15px;
  border-bottom:1px solid #CCC;
  margin:0;
  padding:3px;
  cursor:pointer;
  outline:none;
  -webkit-touch-callout:none;
    -webkit-user-select:none;
     -khtml-user-select:none;
       -moz-user-select:none;
        -ms-user-select:none;
            user-select:none;
}
#quick-nav .lesson-title:hover, #quick-nav .lesson-title:focus { color:#C33; }

#quick-nav .lesson-title:before {
  content:"\f054";
  font-family:FontAwesomeWeb, FontAwesome;
  margin-right:3px;
}
#quick-nav .lesson-title.lesson-open:before { content:"\f078"; }

#quick-nav .sub-lesson-title {
  font-size:15px;
  margin:12px 0 0 12px;
}


/* list and links */
#quick-nav ul {
  border-bottom:1px solid #CCC;
  margin:0;
  padding:3px 3px 12px 3px;
  list-style-type:none;
}
#quick-nav .lesson-title.lesson-open + ul { display:block; }

/* furigana */
.furigana, .inline-furi i {
  color:#777;
  font-size:11px;
  margin-top:-3px;
}

.helper-hidden .furigana-hide { display:none; }
.helper-present .furigana-show { display:none; }

.helper-hidden .button.furigana-toggler { background:#666; }
.helper-hidden .button.furigana-toggler:hover { background:#555; }
.helper-hidden .button.furigana-toggler:focus { background:#444; }

ruby {
  /* START ruby-position:under; hack */
  text-align:center;
  display:inline-block;
  /*OLD: (replaced w/valign:top)
  position:relative;
  bottom:-16px;
  margin:-16px 0 16px 0;*/
  vertical-align:top;
  /* END   ruby-position:under; hack */
}

.helper-hidden ruby {
  display:inline;
  position:static;
  vertical-align:baseline;
}

ruby rt {
  color:#777;
  /* START ruby-position:under; hack */
  font-size:11px; /* if font size is changed, various values will need to be adjusted */
  display:block;
  /*OLD: (w/valign:top this doesn't seem necessary)
  height:15px;
  line-height:15px;*/
  margin-top:-1px;
  /* END   ruby-position:under; hack */
  padding:0 2px;
}

.workbook-title ruby rt, #index-list li a ruby rt, .main-color ruby rt, #quick-search-results ruby rt, a ruby rt {
  color:#933;
}

/* for single characters */
.slim-ruby ruby { width:10px; }

/* for non-furigana use */
.ruby-always-visible ruby {
  display:inline-block !important;
  position:relative !important;
}
.ruby-always-visible rt { display:block !important; }

.helper-hidden .furigana, .helper-hidden .inline-furi i, .helper-hidden ruby rt { display:none; }

/* inline furigana */
.inline-furi {
  position:relative;
  display:inline-block;
  margin-bottom:15px;
}
.helper-hidden .inline-furi { margin-bottom:0; }

.inline-furi .furigana, .inline-furi i {
  text-align:left;
  font-style:normal;
  white-space:nowrap;
  position:absolute;
  bottom:-15px;
  left:0;
}

/* columns */
.columns-2 > div {
  width:50%;
  margin:0 0 25px 0;
  float:left;
}

.columns-2.nomargin > div { margin:0; }
.columns-2 > div.example {
  width:47%;
  margin:10px 5px;
}

.valign-top.inline-columns > div { vertical-align:top }
.inline-columns > div {
  display:inline-block;
  margin:0 10px 30px 0;
}

/* indentation */
.indent-block { margin-left:20px; }

/* GENKI MODAL */
#genki-modal-overlay {
  background:#000 no-repeat center;
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  opacity:0.5;
  z-index:9999;
}

#genki-modal-body {
  background:#FFF;
  border:1px solid #C33;
  position:fixed;
  top:10%;
  left:25%;
  right:25%;
  bottom:40%;
  z-index:99999;
}

#genki-modal-header {
  color:#FFF;
  background:#C33;
  margin:0;
  padding:0 6px;
  height:40px;
  line-height:40px;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space: nowrap;
}

#genki-modal-content {
  font-size:15px;
  padding:6px;
  position:absolute;
  top:40px;
  left:0;
  right:0;
  bottom:40px;
  overflow-y:auto;
}

#genki-modal-buttons {
  height:40px;
  line-height:40px;
  position:absolute;
  bottom:0;
  left:0;
  right:0;
}

#genki-modal-buttons .button {
  line-height:normal;
  margin:0 6px 0 6px;
}


/* SETTINGS MANAGER */
#genki-site-settings {
  font-size:26px;
  display:inline-block;
  height:20px;
  line-height:20px;
  margin-left:15px;
}
#genki-site-settings:focus { color:#C33; }
#genki-site-settings i { vertical-align:-5px; }

.genki-settings-list { list-style-type:none; }
.genki-settings-list li { margin:10px 0; }

.label, .sm-label, .med-label, .big-label {
  display:inline-block;
  width:120px;
  max-width:100%;
}
.sm-label { width:80px; }
.med-label { width:200px; }
.big-label { width:300px; }

.genki-settings-list .label {
  width:40%;
  margin-right:10px;
  text-align:right;
  font-weight:bold;
  vertical-align:top;
  cursor:help;
}

#page-custom-css {
  width:50%;
  height:100px;
}

.button.opt-off { background-color:#999; }
.button.opt-off:hover { background-color:#888; }
.button.opt-off:focus { background-color:#777; }


/* DARK MODE */
#light-switch-container {
  -webkit-touch-callout:none;
    -webkit-user-select:none;
     -khtml-user-select:none;
       -moz-user-select:none;
        -ms-user-select:none;
            user-select:none;
}

#light-switch-label {
  vertical-align:middle;
  cursor:pointer;
}

#light-switch {
  background-color:rgba(0, 0, 0, 0.25);
  border:1px solid rgba(0, 0, 0, 0.25);
  vertical-align:middle;
  display:inline-block;
  position:relative;
  height:26px;
  width:60px;
  border-radius:20px;
  cursor:pointer;
  overflow:hidden;
}

#light-switch:focus {
  border:1px solid #C33;
  outline:none;
}

#light-switch > input { display:none; }
#light-switch > div {
  background-color:rgba(255, 255, 255, 0.5);
  position:absolute;
  top:3px;
  left:3px;
  height:20px;
  width:20px;
  border-radius:20px;
  transition:.4s;
  font-size:13px;
  font-weight:700;
  line-height:22px;
}

#light-switch > div:before {
  content:'ON';
  margin-left:-27px;
  color:transparent;
  transition:400ms;
}

#light-switch > div:after {
  content:'OFF';
  margin-left:30px;
  color:rgba(255, 255, 255, 0.5);
  transition:400ms;
}

#light-switch > input:checked + div {
  background-color:#FFF;
  left:37px;
}

#light-switch > input:checked + div:before { color:#FFF; }
#light-switch > input:checked + div:after { color:transparent; }


/* APPENDIX */
/* dictionary */
.dict-block {
  margin-top:50px;
}

.dict-hidden {
  display:none;
}

.dict-desc {
  padding:3px;
}

.leg-desc {
  font-size:12px;
  vertical-align:top;
}

#dict-legend .text-block { margin:3px; }
#dict-legend .text-block div { margin:3px 0; }

/* index */
.dictionary-index {
  margin:5px;
  padding:3px;
  display:inline-block;
}

.dictionary-index ul {
  float:left;
  padding:3px;
  margin:0;
}
.dictionary-index ul.dict-index-split { margin-left:10px; }

.dictionary-index li {
  list-style-type:none;
  margin:0 3px;
  float:left;
}

.dictionary-index li {
  font-weight:bold;
  font-size:18px;
}

.dictionary-index li a { color:#C33; }
.dictionary-index li a:hover { color:#900; }

.dict-index-disabled {
  opacity:0.5;
  cursor:default;
}

.dictionary-index.dict-alpha li {
  margin:0 6px;
}

/* definitions */
.definition {
  font-size:15px;
  list-style-type:none;
  margin:6px 0;
  overflow:hidden;
}

.def-ja.def-furi {
  position:relative;
  display:inline-block;
  margin-bottom:15px;
}

.def-ja.def-furi i {
  color:#777;
  font-size:11px;
  font-style:normal;
  white-space:nowrap;
  position:absolute;
  bottom:-15px;
  left:0;
}

.def-ja {
  margin-right:5px;
  padding-right:5px;
  border-right:3px solid #C33;
}

#japanese-english .def-ja, #english-japanese .def-en {
  margin-right:8px;
}

.def-label { float:right; }

.def-vtype { font-size:0; }
.def-vtype i {
  font-size:12px;
  font-style:normal;
  color:#FFF;
  background:#C33;
  border:1px solid #B22;
  border-radius:3px;
  display:inline-block;
  line-height:12px;
  padding:3px;
}


/* QUICK JISHO */
#quick-jisho-toggle {
  color:#FFF;
  font-size:18px;
  text-align:center;
  line-height:32px;
  background:#C33;
  height:30px;
  width:30px;
  border-radius:100%;
  position:fixed;
  right:5px;
  bottom:5px;
  cursor:pointer;
}

#quick-jisho-toggle:hover, #quick-jisho-toggle:focus {
  opacity:0.7;
  outline:none;
}

#quick-jisho-window {
  background:#FFF;
  border:1px solid #CCC;
  box-shadow:0px 0px 6px rgba(0, 0, 0, 0.25);
  height:300px;
  width:500px;
  max-height:85%;
  max-width:90%;
  position:fixed;
  right:5px;
  bottom:40px;
  opacity:1;
  transition-duration:300ms;
  transition-property:opacity, bottom;
}

#quick-jisho-window.quick-jisho-hidden {
  bottom:-310px;
  opacity:0;
}

#quick-jisho-title {
  color:#fff;
  background:#C33;
  font-size:18px;
  text-align:center;
  line-height:32px;
  margin:-1px -1px 0 -1px;
}

.quick-jisho-row { padding:3px; }
.quick-jisho-row:first-child { padding-bottom:0px; }

#quick-jisho-search {
  width:100%;
  height:35px;
  box-sizing:border-box;
}

#quick-jisho-results {
  height:219px;
  padding:3px;
  margin:0;
  overflow-y:auto;
}

/* focus style for when tabbing through quick jisho results; highlights the text */
#quick-jisho-results .definition:focus {
  color:#C33;
  outline:none;
}

#quick-jisho-selector {
  border-radius:15px;
  border:1px solid rgba(0, 0, 0, 0.15);
  box-shadow:0px 0px 3px rgba(0, 0, 0, 0.25);
  padding:3px 9px;
  margin:0;
  position:absolute;
  z-index:9999;
}

/* OS FIXES */
.os-linux #quick-jisho-toggle {
  line-height:normal;
}


/* RESPONSIVENESS */
@media (max-width:1000px) {
  /* wrapper's max-width is 1000px, so remove padding so the page takes up the whole screen */
  .content-block { padding:30px 0; }
  #announce-inner { padding:0 6px; }
  
  /* footer links */
  footer li {
    float:none;
    display:inline-block;
  }
  
  footer li:before { margin-left:0; }
  
  .footer-left, .footer-right {
    float:none;
    text-align:center;
    margin-bottom:10px;
  }
  
  #light-switch-container {
    height:auto;
    margin-top:0;
  }

  /* add a bit of padding to other elements, specifically for the index and other such pages */
  p, h2, h3, h4, #quick-search-wrapper, .normal-block {
    padding:0 6px;
  }
  
  /* adjust anchor position */
  a.anchor {
    margin:0 0 0 -5px;
  }
  
  .sub-lesson-title a.anchor, .workbook-title a.anchor, .center a.anchor {
    margin:0 0 0 -25px;
  }
  
  /* increase the size of text passages in multi-choice quizzes */
  .text-passage { width:90%; }
  
  /* modal */
  #genki-modal-header { font-size:16px; }
  #genki-modal-content { font-size:15px; }
  #genki-modal-body {
    left:5% !important;
    right:5% !important;
    bottom:10% !important;
  }
  
  /* display columns below one another */
  .columns-2 > div, .dictionary-group, .columns-2 > div.example {
    float:none;
    width:auto;
  }
}

@media (max-width:820px) {
  header {
    padding:100px 0px 0px 0px;
    text-align:center;
    background-position:50% 00px;
  }

  header h1 { font-size:24px; }

  #home-link:before {
    content:"";
    position:absolute;
    height:100px;
    width:120px;
    top:60px;
    left:50%;
    margin-left:-60px;
  }
  
  .inline-columns > div, .lesson-summary .inline-columns > div {
    margin-right:5px;
  }
  
  /* reduce size of lesson titles on index */
  #lessons .lesson-title { font-size:18px; }
  
  /* reduce quick dictionary width */
  #quick-jisho-window { width:300px; }
}

/* improve clickability of list links for touch screens */
@media (pointer:coarse) {
  #quick-nav .lesson-title, #quick-nav .sub-lesson-title, #lessons li a, #quick-nav li a { font-size:15px; }
  #lessons li a, #quick-nav li a { padding:6px 0; }
  #quick-nav .lesson-title { padding:6px; }
}